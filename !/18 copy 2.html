<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Snowy | BIOS Terminal</title>
  <style>
    body {
      background-color: black;
      color: #00FF00;
      font-family: monospace;
      font-size: 1.1rem;
      padding: 2rem;
      overflow: hidden;
    }
    #screen {
      white-space: pre-line;
    }
    .blinking {
      animation: blink 1s steps(2, start) infinite;
    }
    @keyframes blink {
      to { visibility: hidden; }
    }
    #ageForm {
      display: none;
    }
    input, button {
      background: #000;
      border: 1px solid #0f0;
      color: #0f0;
      font-family: monospace;
      font-size: 1rem;
      margin-top: 1rem;
    }
  </style>
</head>
<body>

<div id="screen">
  <span id="bootText"></span><span class="blinking">_</span>
</div>

<div id="ageForm">
  <label for="birthdate">Enter your birthdate (YYYY-MM-DD):</label><br>
  <input type="date" id="birthdate">
  <button onclick="verify()">Submit</button>
</div>

<audio id="grantedSound" src="access_granted.mp3"></audio>
<audio id="deniedSound" src="access_denied.mp3"></audio>

<script>
  const bootLines = [
    "PhoenixBIOS v4.0 Release 6.0     ",
    "Copyright © 1985-2005 Phoenix Technologies Ltd.",
    "SnowySoft™ Virtual Machine BIOS v1.3.2",
    "",
    "CPU: SnowyCore 1337MHz Detected",
    "RAM: 8192MB OK",
    "Keyboard... Detected",
    "Mouse... Detected",
    "Boot Device 1: USB-HAX0R",
    "Boot Device 2: Steam HyperDrive",
    "",
    "Press F2 to enter Setup",
    "",
    "Booting SnowOS...",
    "Loading access terminal...",
    ""
  ];

  let index = 0;
  let soundsLoaded = false;
  let booting = false;

  const screen = document.getElementById("bootText");
  const grantedSound = document.getElementById("grantedSound");
  const deniedSound = document.getElementById("deniedSound");

  function loadSounds() {
    if (!soundsLoaded) {
      grantedSound.load();
      deniedSound.load();
      soundsLoaded = true;
    }
  }

  function bootTerminal() {
    if (booting) return;
    booting = true;

    loadSounds();

    // Check for ban first
    if (localStorage.getItem("bannedFrom18") === "true") {
      screen.innerText = "Access denied. You have been blocked from this content.\nRedirecting...";
      deniedSound.play();
      setTimeout(() => window.location.href = atob("aHR0cHM6Ly9zdGVhbWNvbW11bml0eS5jb20vaWQvU25vdzJDb2RlLw=="), 2000);
      return;
    }

    // Fake boot sequence typing
    const typeNext = () => {
      if (index < bootLines.length) {
        screen.innerText += bootLines[index] + "\n";
        index++;
        setTimeout(typeNext, 200 + Math.random() * 150); // random delay per line
      } else {
        document.getElementById("ageForm").style.display = "block";
      }
    };
    typeNext();
  }

  function verify() {
    (function(){
      var _0x1a2f=["\x76\x61\x6C\x75\x65","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x62\x69\x72\x74\x68\x64\x61\x74\x65","\x73\x65\x74\x49\x74\x65\x6D","\x62\x61\x6E\x6E\x65\x64\x46\x72\x6F\x6D\x31\x38","\x70\x6C\x61\x79","\x73\x65\x74\x54\x69\x6D\x65\x6F\x75\x74","\x6C\x6F\x63\x61\x74\x69\x6F\x6E","\x68\x72\x65\x66","\x61\x74\x6F\x62","\x61\x48\x52\x30\x63\x48\x4D\x36\x4C\x79\x39\x6C\x65\x58\x61\x70\x62\x47\x55\x30\x62\x79\x38\x76\x64\x57\x31\x6C\x63\x6D\x35\x6B\x4C\x79\x39\x6B\x5A\x58\x4A\x6B\x5A\x53\x39\x6C\x62\x33\x4A\x6B\x64\x43\x35\x6B\x61\x57\x52\x6C\x4C\x77\x3D\x3D","\x61\x48\x52\x30\x63\x48\x4D\x75\x62\x69\x39\x6C\x63\x33\x52\x79\x64\x57\x4D\x75\x59\x57\x52\x6C\x5A\x58\x52\x66\x5A\x53\x39\x6C\x62\x33\x4A\x6B\x64\x43\x35\x6B\x61\x57\x52\x6C\x4C\x77\x3D\x3D"];
      function _0x514e(_0x2ddf){return atob(_0x2ddf);}
      let _0x201= document[_0x1a2f[1]](_0x1a2f[2])[_0x1a2f[0]];
      let _0x202=new Date(_0x201),_0x203=new Date(),
      _0x204=_0x203.getFullYear()-_0x202.getFullYear();
      let _0x205=_0x203.getMonth()-_0x202.getMonth();
      let _0x206=_0x204>18||(_0x204===18&&_0x205>=0);
      if(_0x206){
        grantedSound.play();
        setTimeout(()=>{window[_0x1a2f[7]][_0x1a2f[8]]=_0x514e(_0x1a2f[9])},1500)
      } else {
        localStorage[_0x1a2f[3]](_0x1a2f[4],true);
        deniedSound.play();
        setTimeout(()=>{window[_0x1a2f[7]][_0x1a2f[8]]=_0x514e(_0x1a2f[10])},1500)
      }
    })();
  }

  // Only trigger once on interaction
  document.addEventListener("click", bootTerminal, { once: true });
  document.addEventListener("keydown", bootTerminal, { once: true });
</script>

</body>
</html>
