<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Snowy | BIOS Terminal</title>
        <style>
            body {
                background-color: #000;  /* background-color: black; */
                color: #0f0;    /* #00FF00; */
                font-family: 'Courier New', monospace;  /* font-family: monospace; */
                font-size: 1.1rem;
                padding: 2rem;
                /* padding-top: 5rem; */
                overflow: hidden;

                /* text-align: center; */
            }

            #screen {
                white-space: pre-line;
            }

            .blinking {
                animation: blink 1s steps(2, start) infinite;
            }

            @keyframes blink {
                to { visibility: hidden; }
            }

            #ageForm {
                display: none;
            }

            input, button {
                background: #000;
                border: 1px solid #0f0;
                color: #0f0;
                font-family: monospace;
                font-size: 1rem;
                margin-top: 1rem;
            }
        </style>
    </head>
    <body>
        <div id="screen">
            <span id="bootText">
                Initializing access terminal... waiting for user input.

                
            </span><span class="blinking">_</span>
        </div>

        <div id="ageForm">
            <label for="birthdate">Enter your birthdate.</label><br>
            <input type="date" id="birthdate">
            <button onclick="verify()">Submit</button>
        </div>

        <audio id="grantedSound" src="sfx/access-granted.mp3"></audio>
        <audio id="deniedSound" src="sfx/access-denied.mp3"></audio>
        <audio id="diskSound" src="sfx/disk.mp3"></audio>
        <audio id="bootSound" src="sfx/boot.mp3"></audio>

        
        <script>
            // const bootLines = [
            //     "PhoenixBIOS v4.0 Release 6.0     ",
            //     "Copyright © 1985-2005 Phoenix Technologies Ltd.",
            //     "SnowySoft™ Virtual Machine BIOS v1.3.2",
            //     "",
            //     "CPU: SnowyCore 1337MHz Detected",
            //     "RAM: 8192MB OK",
            //     "Keyboard... Detected",
            //     "Mouse... Detected",
            //     "Boot Device 1: USB-HAX0R",
            //     "Boot Device 2: Steam HyperDrive",
            //     "",
            //     // "Press F2 to enter Setup",
            //     "",
            //     "Booting SnowOS...",
            //     "Loading access terminal...",
            //     "",
            //     "",
            //     ""
            // ];
            const bootLines = [
                "Snowy OS Booting...",
                "",
                "",
                "Performing POST (Power On Self Test)...",
                "",
                "System Check Passed.",
                "Initializing Snowy OS...",
                "",
                "Checking CPU...",
                simulateCpuCheck(),
                "",
                "CPU Check Complete.",
                "",
                "Checking RAM...",
                simulateRamCheck(),
                "",
                "RAM Check Complete.",
                "",
                "Loading user profile...",
                "",
                "Boot complete.",
                "",
                "Loading access terminal...",
                "",
                "",
                "",
            ];

            let soundsLoaded = false;
            let booting = false;

            const screen = document.getElementById("bootText");
            const grantedSound = document.getElementById("grantedSound");
            const deniedSound = document.getElementById("deniedSound");

            const bootSound = document.getElementById("bootSound");

            function loadSounds()
            {
                if (!soundsLoaded) {
                    grantedSound.load();
                    deniedSound.load();
                    soundsLoaded = true;
                }
            }

            function simulateCpuCheck()
            {
                // Adding more realistic CPUs and using actual brands
                const cpus = [
                    { model: "Intel Core i9-11900K", cores: 8, ghz: 3.5 },
                    { model: "AMD Ryzen 7 5800X", cores: 8, ghz: 3.8 },
                    { model: "Intel Core i7-12700K", cores: 12, ghz: 3.6 },
                    { model: "AMD Ryzen 9 5950X", cores: 16, ghz: 3.4 },
                    { model: "Intel Core i5-11600K", cores: 6, ghz: 3.9 },
                    { model: "AMD Ryzen 5 5600X", cores: 6, ghz: 3.7 },
                    { model: "Intel Core i3-10100F", cores: 4, ghz: 3.6 },
                ];

                const randomCpu = cpus[Math.floor(Math.random() * cpus.length)];
                return `${randomCpu.model} - ${randomCpu.cores} Cores - ${randomCpu.ghz}GHz`;
            }

            function simulateRamCheck() {
                // Adding more RAM brands and sizes
                const ramBrands = [
                    { brand: "Corsair Vengeance LPX", size: 16 },
                    { brand: "G.SKILL Ripjaws V", size: 32 },
                    { brand: "Kingston HyperX Fury", size: 8 },
                    { brand: "Crucial Ballistix", size: 16 },
                    { brand: "Corsair Dominator Platinum", size: 64 },
                    { brand: "Patriot Viper Steel", size: 32 },
                    { brand: "ADATA XPG Spectrix", size: 16 },
                ];

                const randomRam = ramBrands[Math.floor(Math.random() * ramBrands.length)];
                return `${randomRam.size}GB ${randomRam.brand} DDR4`;
            }

            function bootTerminal()
            {
                let index = 0;

                if (booting) return;
                booting = true;

                loadSounds();
                const sound = document.getElementById("diskSound");
                sound.play();

                if (localStorage.getItem("bannedFrom18") === "true")
                {
                    screen.innerText = "Access denied. You have been blocked from this content.\nRedirecting...";
                    deniedSound.play();
                    setTimeout(() => window.location.href = atob("aHR0cHM6Ly9zdGVhbWNvbW11bml0eS5jb20vaWQvU25vdzJDb2RlLw=="), 2000);
                    return;
                }

                // Fake boot sequence typing
                const typeNext = () => {
                    if (index < bootLines.length) {
                        screen.innerText += bootLines[index] + "\n";
                        index++;
                        setTimeout(typeNext, 200 + Math.random() * 800); // random delay per line
                    } else {
                        bootSound.play();
                        document.getElementById("ageForm").style.display = "block";
                    }
                };
                typeNext();
            }

            function verify() {
                (function() {
                    var _0x1a2f = [
                        "\x76\x61\x6C\x75\x65", "\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64", 
                        "\x62\x69\x72\x74\x68\x64\x61\x74\x65", "\x73\x65\x74\x49\x74\x65\x6D", "\x62\x61\x6E\x6E\x65\x64\x46\x72\x6F\x6D\x31\x38", 
                        "\x70\x6C\x61\x79", "\x73\x65\x74\x54\x69\x6D\x65\x6F\x75\x74", "\x6C\x6F\x63\x61\x74\x69\x6F\x6E", 
                        "\x68\x72\x65\x66", "\x61\x74\x6F\x62"
                    ];

                    // Direct URLs (leave them out of obfuscation to avoid issues)
                    const grantedURL = "https://steamcommunity.com/id/Snow2Code"; // Change to your valid granted URL
                    const deniedURL = "https://steamcommunity.com/id/Snow2Code"; // Change to your valid denied URL

                    function _0x514e(_0x2ddf) {
                        return atob(_0x2ddf); // Decode base64 string if needed for other parts of the process
                    }

                    let _0x201 = document[_0x1a2f[1]](_0x1a2f[2])[_0x1a2f[0]];  // Get user birth date
                    let _0x202 = new Date(_0x201),
                        _0x203 = new Date(),
                        _0x204 = _0x203.getFullYear() - _0x202.getFullYear();
                    let _0x205 = _0x203.getMonth() - _0x202.getMonth();
                    let _0x206 = _0x204 > 18 || (_0x204 === 18 && _0x205 >= 0);

                    if (_0x206) {
                        grantedSound.play();
                        setTimeout(() => {
                            window.location.href = grantedURL;  // Redirect to granted URL after 8 seconds
                        }, 4000);
                    } else {
                        localStorage[_0x1a2f[3]](_0x1a2f[4], true);  // Set banned flag
                        deniedSound.play();  // Play sound if age verification fails
                        setTimeout(() => {
                            window.location.href = deniedURL;  // Redirect to denied URL after 8 seconds
                        }, 4000);
                    }
                })();


            }

            // Only trigger once on interaction
            document.addEventListener("click", bootTerminal, { once: true });
            document.addEventListener("keydown", bootTerminal, { once: true });
        </script>
    </body>
</html>
